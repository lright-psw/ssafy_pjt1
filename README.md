# 👋 프로젝트 개요

#### 🙆 본 프로젝트는 간단한 REST API과 소켓을 `next.js`와 `node.js`를 이용하여 구현하는 것이 목표임을 밝힙니다.

<br/>

## 🔐 로그인

### 🍪 쿠키-세션을 이용한 간단한 로그인구현

- 소켓을 이용하여 통신
- WebSocket이 아니라 socket.io를 이용하여 구현
  - socket.io을 사용한 이유는 실험적으로 해보고 싶었고 WebSocket보다 커스텀은 어렵지만 더 많고 편한 기능을 많이 가지고 있었기 떄문입니다.
- DB를 통해 사용자 데이터 저장
- REST API를 이용한 프런트와의 소통

## 📄 페이지

### 🌐 tsx파일을 통해 라우팅과 페이지를 구현

- 로그인 화면을 루트 페이지로 설정하였습니다.
- 드론 화면에서 카카오맵 API를 통해 드론의 이동경로와 화면을 확일 할 수 있습니다.<br/>(아직 API를 완전히 불러오지 못해 일부 기능 미완성)
- 데이터화면에서는 드론의 데이터를 직접 가져와 chart.js를 통해 시각화합니다.<br/>(실제 드론과 소통이 불가함으로 백엔드에서 랜덤데이터를 생성해 보여줍니다.)
- 수동 조작 모드에서는 드론을 관리자가 수동으로 조작할 수 있습니다.<br/>(실제 드론과 소통이 불가함으로 가상의 드론에서 값이 변경되었음을 메세지로 전달하게 할 것입니다.)
- 설정화면에서는 드론의 연결 테스트, 화면 색 조정등의 관리자가 사이트의 설정을 조정 할수 있습니다.


## ⏳ 진행사항

- 25.03.19 단순 비교를 통해 로그인이 가능합니다.
- 25.03.20 DB는 구현 완료
- 25.03.21 쿠키&세션을 통해 로그인 후 페이지를 나가더라도 로그인이 초기화되지 않게 수정
- 25.03.22 드론화면, 데이터 화면 구현
- 25.03.23 홈 화면 css변경, 드론 화면 css변경 및 카카오맵 기능 추가
- 25.03.24 라즈베리파이 서버 생성 및 연결 완료, DB를 외부 노트북으로 변경
- 25.03.25 NGINX를 이용하여 배포 성공공


## 📝 사용 가이드

1. 먼저 `git clone https://github.com/lright-psw/ssafy_pjt1`으로 파일을 받아온다.
2. 연결할 라즈베리파이에 `node.js`와 `python`을 설치한다.
3. `npm i ws`로 웹소켓을 다운 받는다.
4. raspberrypi 파일의 내용을 연결한 라즈베리파이에 넣어준다.
5. SERVER, CLIENT 폴더에 들어가 cmd를 키고 `npm i`를 입력한다.
6. SERVER, CLIENT, 라즈베리파이를 각각 실행시킨다.
  - SERVER 실행 명령어 `npm run dev`
  - CLIENT 실행 명령어 `npm run build ➡️ npm start`
  - 라즈베리파이 실행 명령어 `node index.mjs`
7. nginx 폴더로 들어가 cmd실행후 `.\nginx.exe`를 입력하여 nginx를 싱행시킨다.

#### ℹ️ 보안상 .env 파일이 없습니다.